blumix testing



$ curl -X POST -F "images_file=@fruitbowl.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/classify?api_key={api-key}&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 98403  100    65  100 98338     40  61731  0:00:01  0:00:01 --:--:-- 63566{
    "status": "ERROR",
    "statusInfo": "invalid-api-key"
}


{
  "url": "https://gateway-a.watsonplatform.net/visual-recognition/api",
  "note": "It may take up to 5 minutes for this key to become active",
  "api_key": "2769cf50001a644bbfedf60df5c846f6a900efcb"
}


$ curl -X POST -F "images_file=@fruitbowl.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/classify?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 99547  100  1209  100 98338    356  29008  0:00:03  0:00:03 --:--:-- 31468{
    "custom_classes": 0,
    "images": [
        {
            "classifiers": [
                {
                    "classes": [
                        {
                            "class": "banana",
                            "score": 0.81,
                            "type_hierarchy": "/fruit/banana"
                        },
                        {
                            "class": "fruit",
                            "score": 0.922
                        },
                        {
                            "class": "mango",
                            "score": 0.554,
                            "type_hierarchy": "/fruit/mango"
                        },
                        {
                            "class": "olive color",
                            "score": 0.951
                        },
                        {
                            "class": "olive green color",
                            "score": 0.747
                        }
                    ],
                    "classifier_id": "default",
                    "name": "default"
                }
            ],
            "image": "fruitbowl.jpg"
        }
    ],
    "images_processed": 1
}




curl -X POST -F "name=kobatest" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"


$ curl -X POST -F "name=kobatest" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   313  100   166  100   147     80     71  0:00:02  0:00:02 --:--:--    90{
  "collection_id": "kobatest_c8ebda",
  "name": "kobatest",
  "status": "available",
  "created": "2017-03-07T14:13:27.083Z",
  "images": 0,
  "capacity": 1000000
}


curl -X GET "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"


$ curl -X GET "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   166  100   166    0     0    105      0  0:00:01  0:00:01 --:--:--   106{
  "collection_id": "kobatest_c8ebda",
  "name": "kobatest",
  "status": "available",
  "created": "2017-03-07T14:13:27.083Z",
  "images": 0,
  "capacity": 1000000
}




curl -X POST -F "image_file=@blue-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"


$ curl -X POST -F "image_file=@blue-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  216k  100   168  100  216k     58  76675  0:00:02  0:00:02 --:--:-- 82467{
  "images": [
    {
      "image_id": "9c0cf4",
      "image_file": "blue-dress.jpg",
      "created": "2017-03-07T14:16:34.149Z"
    }
  ],
  "images_processed": 1
}

curl -X POST -F "image_file=@purple-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"

curl -X POST -F "image_file=@red-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"

curl -X POST -F "image_file=@silver-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"

curl -X POST -F "image_file=@silver-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 96390  100   170  100 96220     59  33467  0:00:02  0:00:02 --:--:-- 33655{
  "images": [
    {
      "image_id": "d5dba5",
      "image_file": "purple-dress.jpg",
      "created": "2017-03-07T14:19:00.986Z"
    }
  ],
  "images_processed": 1
}


$ curl -X POST -F "image_file=@red-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  158k  100   167  100  158k     53  51943  0:00:03  0:00:03 --:--:-- 52193{
  "images": [
    {
      "image_id": "6467da",
      "image_file": "red-dress.jpg",
      "created": "2017-03-07T14:19:04.651Z"
    }
  ],
  "images_processed": 1
}


$ curl -X POST -F "image_file=@silver-dress.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 54493  100   170  100 54323     59  19107  0:00:02  0:00:02 --:--:-- 19208{
  "images": [
    {
      "image_id": "957802",
      "image_file": "silver-dress.jpg",
      "created": "2017-03-07T14:19:08.058Z"
    }
  ],
  "images_processed": 1
}





curl -X POST -F "image_file=@silver-dress2.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/find_similar?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"

$ curl -X POST -F "image_file=@silver-dress2.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/kobatest_c8ebda/find_similar?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 43346  100   691  100 42655    320  19784  0:00:02  0:00:02 --:--:-- 21499{
  "image_file": "silver-dress2.jpg",
  "similar_images": [
    {
      "image_id": "957802",
      "image_file": "silver-dress.jpg",
      "score": 0.6870117,
      "created": "2017-03-07T14:19:08.058Z"
    },
    {
      "image_id": "6467da",
      "image_file": "red-dress.jpg",
      "score": 0.5854492,
      "created": "2017-03-07T14:19:04.651Z"
    },
    {
      "image_id": "d5dba5",
      "image_file": "purple-dress.jpg",
      "score": 0.56152344,
      "created": "2017-03-07T14:19:00.986Z"
    },
    {
      "image_id": "9c0cf4",
      "image_file": "blue-dress.jpg",
      "score": 0.54541016,
      "created": "2017-03-07T14:16:34.149Z"
    }
  ],
  "images_processed": 1
}



------------------------


$ curl -U P0373225:2008kazu! --proxy proxy.tokyo.ogis-ri.co.jp:8080 -X POST -F "name=uocolle" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   310  100   164  100   146    111     99  0:00:01  0:00:01 --:--:--   114{
  "collection_id": "uocolle_7e6c8b",
  "name": "uocolle",
  "status": "available",
  "created": "2017-03-08T08:57:13.685Z",
  "images": 0,
  "capacity": 1000000
}


------

$ curl -U P0373225:2008kazu! --proxy proxy.tokyo.ogis-ri.co.jp:8080 -X POST -F "image_file=@01_maaji.jpg" -F "metadata=@01_maaji.json" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/uocolle_7e6c8b/images?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 28986  100   906  100 28080    568  17627  0:00:01  0:00:01 --:--:-- 17794{
  "images": [
    {
      "image_id": "8d9fba",
      "image_file": "01_maaji.jpg",
      "created": "2017-03-08T09:20:40.233Z",
      "metadata": {
        "characteristic": "北海道?九州までの沿岸域で群れを作る。アジ科には多数の食用魚があるが、その代表的なもの。単に「アジ」というとマアジのこと。",
        "distinguish": "一年中出回っている。黄色系。（黒系もあり）ゼイゴが力強くつながっている。",
        "habitat": "北海道南部から東シナ海まで。水深２メートル足らずの港のなかから、水深150メートルの深海まで広く棲息している。",
        "id": 1,
        "luxuryfish": "高級",
        "name_en": "Japanese horse-mackerel",
        "name_ja": "マアジ",
        "poison": "なし",
        "taste": "美味"
      }
    }
  ],
  "images_processed": 1
}


--------------
状態確認

$ curl -U P0373225:2008kazu! --proxy proxy.tokyo.ogis-ri.co.jp:8080 -X GET "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/uocolle_7e6c8b?api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   164  100   164    0     0    132      0  0:00:01  0:00:01 --:--:--   132{
  "collection_id": "uocolle_7e6c8b",
  "name": "uocolle",
  "status": "available",
  "created": "2017-03-08T08:57:13.685Z",
  "images": 1,
  "capacity": 1000000
}


--------------
同じ画像で検索

$ curl -U P0373225:2008kazu! --proxy proxy.tokyo.ogis-ri.co.jp:8080 -X POST -F "image_file=@01_maaji.jpg" "https://gateway-a.watsonplatform.net/visual-recognition/api/v3/collections/uocolle_7e6c8b/find_similar?limit=100&api_key=2769cf50001a644bbfedf60df5c846f6a900efcb&version=2016-05-20"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 28219  100   964  100 27255    662  18744  0:00:01  0:00:01 --:--:-- 18744{
  "image_file": "01_maaji.jpg",
  "similar_images": [
    {
      "image_id": "8d9fba",
      "image_file": "01_maaji.jpg",
      "score": 1,
      "created": "2017-03-08T09:20:40.233Z",
      "metadata": {
        "characteristic": "北海道?九州までの沿岸域で群れを作る。アジ科には多数の食用魚があるが、その代表的なもの。単に「アジ」というとマアジのこと。",
        "distinguish": "一年中出回っている。黄色系。（黒系もあり）ゼイゴが力強くつながっている。",
        "habitat": "北海道南部から東シナ海まで。水深２メートル足らずの港のなかから、水深150メートルの深海まで広く棲息している。",
        "id": 1,
        "luxuryfish": "高級",
        "name_en": "Japanese horse-mackerel",
        "name_ja": "マアジ",
        "poison": "なし",
        "taste": "美味"
      }
    }
  ],
  "images_processed": 1
}
